<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantum Quasar Quadrant</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background: #1a0033;
            font-family: 'Courier New', monospace;
            color: #00ffff;
        }
        
        h1 {
            margin: 0 0 10px 0;
            text-shadow: 0 0 10px #ff00ff, 0 0 20px #00ffff;
            font-size: 2em;
        }
        
        #gameCanvas {
            border: 4px solid #00ffff;
            box-shadow: 0 0 20px #ff00ff, 0 0 40px #00ffff;
            image-rendering: pixelated;
            image-rendering: crisp-edges;
        }
        
        .controls {
            margin-top: 20px;
            text-align: center;
            background: rgba(0, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #00ffff;
        }
        
        .controls p {
            margin: 5px 0;
            font-size: 1.1em;
        }
        
        .score {
            font-size: 1.3em;
            margin-top: 10px;
            text-shadow: 0 0 5px #ffff00;
        }
    </style>
</head>
<body>
    <h1>üöÄ QUANTUM QUASAR QUADRANT üåü</h1>
    <canvas id="gameCanvas" width="800" height="600"></canvas>
    <div class="controls">
        <p>üéÆ <strong>CONTROLS:</strong> Arrow Keys or WASD to Move | SPACE or UP to Jump</p>
        <p class="score">‚≠ê Score: <span id="score">0</span></p>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const scoreElement = document.getElementById('score');

        // Game state
        const game = {
            score: 0,
            running: true,
            backgroundOffset: 0,
            stars: []
        };

        // Load images
        const background = new Image();
        background.src = 'quantum-quasar-quadrant_background.png';
        
        const spacemanImg = new Image();
        spacemanImg.src = 'quantum-quasar-quadrant_spaceman.png';

        // Player object
        const player = {
            x: 100,
            y: 400,
            width: 40,
            height: 60,
            velocityX: 0,
            velocityY: 0,
            speed: 5,
            jumpPower: 12,
            gravity: 0.5,
            onGround: false,
            direction: 1 // 1 for right, -1 for left
        };

        // Collectible stars
        function createStar() {
            return {
                x: canvas.width + Math.random() * 200,
                y: Math.random() * (canvas.height - 200) + 100,
                size: 8,
                collected: false,
                pulse: 0
            };
        }

        // Initialize stars
        for (let i = 0; i < 3; i++) {
            game.stars.push(createStar());
        }

        // Keyboard state
        const keys = {};
        
        window.addEventListener('keydown', (e) => {
            keys[e.key] = true;
            
            // Jump with Space or W or ArrowUp
            if ((e.key === ' ' || e.key === 'w' || e.key === 'W' || e.key === 'ArrowUp') && player.onGround) {
                player.velocityY = -player.jumpPower;
                player.onGround = false;
            }
        });
        
        window.addEventListener('keyup', (e) => {
            keys[e.key] = false;
        });

        // Ground level (relative to canvas)
        const groundY = canvas.height - 150;

        function update() {
            if (!game.running) return;

            // Horizontal movement
            player.velocityX = 0;
            
            if (keys['ArrowLeft'] || keys['a'] || keys['A']) {
                player.velocityX = -player.speed;
                player.direction = -1;
            }
            if (keys['ArrowRight'] || keys['d'] || keys['D']) {
                player.velocityX = player.speed;
                player.direction = 1;
            }

            // Apply gravity
            player.velocityY += player.gravity;

            // Update position
            player.x += player.velocityX;
            player.y += player.velocityY;

            // Ground collision
            if (player.y + player.height >= groundY) {
                player.y = groundY - player.height;
                player.velocityY = 0;
                player.onGround = true;
            } else {
                player.onGround = false;
            }

            // Keep player in bounds
            if (player.x < 0) player.x = 0;
            if (player.x + player.width > canvas.width) player.x = canvas.width - player.width;

            // Scroll background slowly
            game.backgroundOffset -= 0.5;
            if (game.backgroundOffset < -canvas.width) {
                game.backgroundOffset = 0;
            }

            // Update and check stars
            game.stars.forEach((star, index) => {
                star.x -= 2;
                star.pulse += 0.1;
                
                // Check collision with player
                if (!star.collected &&
                    player.x < star.x + star.size &&
                    player.x + player.width > star.x &&
                    player.y < star.y + star.size &&
                    player.y + player.height > star.y) {
                    star.collected = true;
                    game.score += 10;
                    scoreElement.textContent = game.score;
                }

                // Remove and respawn stars that go off screen
                if (star.x < -star.size) {
                    game.stars[index] = createStar();
                }
            });
        }

        function draw() {
            // Clear canvas
            ctx.fillStyle = '#1a0033';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Draw scrolling background (twice for seamless loop)
            if (background.complete) {
                ctx.drawImage(background, game.backgroundOffset, 0, canvas.width, canvas.height);
                ctx.drawImage(background, game.backgroundOffset + canvas.width, 0, canvas.width, canvas.height);
            }

            // Draw ground overlay (semi-transparent)
            ctx.fillStyle = 'rgba(100, 50, 150, 0.3)';
            ctx.fillRect(0, groundY, canvas.width, canvas.height - groundY);

            // Draw stars
            game.stars.forEach(star => {
                if (!star.collected) {
                    const pulseSize = star.size + Math.sin(star.pulse) * 2;
                    
                    // Outer glow
                    ctx.shadowBlur = 15;
                    ctx.shadowColor = '#ffff00';
                    ctx.fillStyle = '#ffff00';
                    ctx.beginPath();
                    ctx.arc(star.x, star.y, pulseSize, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // Inner star
                    ctx.shadowBlur = 5;
                    ctx.fillStyle = '#ffffff';
                    ctx.beginPath();
                    ctx.arc(star.x, star.y, pulseSize - 2, 0, Math.PI * 2);
                    ctx.fill();
                    
                    ctx.shadowBlur = 0;
                }
            });

            // Draw player
            if (spacemanImg.complete) {
                ctx.save();
                
                // Flip horizontally if facing left
                if (player.direction === -1) {
                    ctx.translate(player.x + player.width / 2, player.y + player.height / 2);
                    ctx.scale(-1, 1);
                    ctx.drawImage(spacemanImg, -player.width / 2, -player.height / 2, player.width, player.height);
                } else {
                    ctx.drawImage(spacemanImg, player.x, player.y, player.width, player.height);
                }
                
                ctx.restore();
            } else {
                // Fallback if image not loaded
                ctx.fillStyle = '#00ffff';
                ctx.fillRect(player.x, player.y, player.width, player.height);
            }

            // Draw HUD
            ctx.shadowBlur = 0;
            ctx.fillStyle = 'rgba(0, 0, 0, 0.5)';
            ctx.fillRect(10, 10, 200, 30);
            ctx.fillStyle = '#00ffff';
            ctx.font = '20px "Courier New"';
            ctx.fillText(`Stars: ${game.score / 10}`, 20, 33);
        }

        function gameLoop() {
            update();
            draw();
            requestAnimationFrame(gameLoop);
        }

        // Wait for images to load before starting
        let imagesLoaded = 0;
        const totalImages = 2;

        function imageLoaded() {
            imagesLoaded++;
            if (imagesLoaded === totalImages) {
                gameLoop();
            }
        }

        background.onload = imageLoaded;
        spacemanImg.onload = imageLoaded;

        // If images fail to load, start anyway
        setTimeout(() => {
            if (imagesLoaded < totalImages) {
                console.log('Starting game with', imagesLoaded, 'of', totalImages, 'images loaded');
                gameLoop();
            }
        }, 2000);
    </script>
</body>
</html>
