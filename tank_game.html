<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸš€ Tank Chaos Mayhem! ðŸ’¥</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: linear-gradient(135deg, #0f0f23, #1a1a3e, #2a1a5e);
            color: #fff;
            font-family: 'Courier New', monospace;
            overflow: hidden;
            user-select: none;
        }
        canvas {
            display: block;
            background: radial-gradient(circle at center, #000428 0%, #004e92 50%, #000428 100%);
            cursor: crosshair;
        }
        #ui {
            position: absolute;
            top: 20px;
            left: 20px;
            z-index: 100;
            font-size: 18px;
            text-shadow: 0 0 10px #00ff88;
        }
        #instructions {
            position: absolute;
            bottom: 20px;
            left: 20px;
            font-size: 14px;
            opacity: 0.8;
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    <div id="ui">
        <div>ðŸ’¥ Explosions: <span id="explosions">0</span></div>
        <div>ðŸš€ Missiles: <span id="missiles">0</span></div>
    </div>
    <div id="instructions">
        WASD: Drive Tank | SPACE: FIRE MISSILES | Mouse: Aim (for fun) | ESC: Pause
    </div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const explosionsEl = document.getElementById('explosions');
        const missilesEl = document.getElementById('missiles');

        // Resize canvas
        function resize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resize);
        resize();

        // Game state
        const TANK = {
            x: canvas.width / 2,
            y: canvas.height / 2,
            angle: 0,
            speed: 0,
            maxSpeed: 4,
            turnSpeed: 0.08,
            size: 25
        };

        const MISSILES = [];
        const PARTICLES = [];
        let explosions = 0;
        let paused = false;
        let keys = {};

        // Crazy explosion emojis
        const CRAZY_EMOJIS = [
            'ðŸ’¥', 'ðŸ”¥', 'ðŸ§¨', 'ðŸŒ‹', 'ðŸ’£', 'ðŸš€', 'â­', 'ðŸŒŸ', 'ðŸ’«',
            'ðŸ±', 'ðŸ¶', 'ðŸ­', 'ðŸ¹', 'ðŸ¦Š', 'ðŸ°', 'ðŸ¸', 'ðŸ¢', 'ðŸ¦„',
            'ðŸ‘½', 'ðŸ¤–', 'ðŸ›¸', 'ðŸŒ', 'ðŸ†', 'ðŸ’©', 'ðŸŒˆ', 'ðŸŽ‰', 'ðŸŽŠ'
        ];

        // Input
        window.addEventListener('keydown', (e) => {
            keys[e.code] = true;
            if (e.code === 'Space') {
                e.preventDefault();
                fireMissile();
            }
            if (e.code === 'Escape') paused = !paused;
        });
        window.addEventListener('keyup', (e) => keys[e.code] = false);

        function fireMissile() {
            MISSILES.push({
                x: TANK.x + Math.cos(TANK.angle) * TANK.size,
                y: TANK.y + Math.sin(TANK.angle) * TANK.size,
                angle: TANK.angle,
                speed: 8,
                life: 300 // frames ~5s
            });
        }

        function updateTank() {
            if (paused) return;

            // Turning
            if (keys['KeyA'] || keys['ArrowLeft']) TANK.angle -= TANK.turnSpeed;
            if (keys['KeyD'] || keys['ArrowRight']) TANK.angle += TANK.turnSpeed;

            // Acceleration
            if (keys['KeyW'] || keys['ArrowUp']) {
                TANK.speed = Math.min(TANK.speed + 0.2, TANK.maxSpeed);
            } else if (keys['KeyS'] || keys['ArrowDown']) {
                TANK.speed = Math.max(TANK.speed - 0.3, -TANK.maxSpeed / 2);
            } else {
                TANK.speed *= 0.92; // Friction
            }

            // Movement
            TANK.x += Math.cos(TANK.angle) * TANK.speed;
            TANK.y += Math.sin(TANK.angle) * TANK.speed;

            // Bounce off walls
            if (TANK.x < TANK.size) { TANK.x = TANK.size; TANK.speed *= -0.5; }
            if (TANK.x > canvas.width - TANK.size) { TANK.x = canvas.width - TANK.size; TANK.speed *= -0.5; }
            if (TANK.y < TANK.size) { TANK.y = TANK.size; TANK.speed *= -0.5; }
            if (TANK.y > canvas.height - TANK.size) { TANK.y = canvas.height - TANK.size; TANK.speed *= -0.5; }
        }

        function updateMissiles() {
            for (let i = MISSILES.length - 1; i >= 0; i--) {
                const m = MISSILES[i];
                m.x += Math.cos(m.angle) * m.speed;
                m.y += Math.sin(m.angle) * m.speed;
                m.life--;

                // Offscreen or timeout = EXPLODE!
                if (m.x < 0 || m.x > canvas.width || m.y < 0 || m.y > canvas.height || m.life <= 0) {
                    explode(m.x, m.y);
                    MISSILES.splice(i, 1);
                }
            }
        }

        function explode(x, y) {
            explosions++;
            explosionsEl.textContent = explosions;

            // Spawn 30-60 crazy particles
            const numParticles = 30 + Math.random() * 30;
            for (let i = 0; i < numParticles; i++) {
                const angle = (Math.PI * 2 * i) / numParticles + (Math.random() - 0.5) * Math.PI * 0.5;
                const speed = 2 + Math.random() * 6;
                PARTICLES.push({
                    x, y,
                    vx: Math.cos(angle) * speed,
                    vy: Math.sin(angle) * speed,
                    life: 60 + Math.random() * 40,
                    maxLife: 60 + Math.random() * 40,
                    emoji: CRAZY_EMOJIS[Math.floor(Math.random() * CRAZY_EMOJIS.length)],
                    size: 0.8 + Math.random() * 1.2,
                    rot: Math.random() * Math.PI * 2,
                    rotSpeed: (Math.random() - 0.5) * 0.2
                });
            }
        }

        function updateParticles() {
            for (let i = PARTICLES.length - 1; i >= 0; i--) {
                const p = PARTICLES[i];
                p.x += p.vx;
                p.y += p.vy;
                p.vy += 0.1; // Gravity
                p.vx *= 0.98; // Drag
                p.rot += p.rotSpeed;
                p.life--;

                if (p.life <= 0) {
                    PARTICLES.splice(i, 1);
                }
            }
        }

        function drawTank() {
            ctx.save();
            ctx.translate(TANK.x, TANK.y);
            ctx.rotate(TANK.angle);

            // Tank body (green trapezoid)
            ctx.fillStyle = '#4a7c59';
            ctx.shadowColor = '#00ff00';
            ctx.shadowBlur = 15;
            ctx.beginPath();
            ctx.moveTo(-TANK.size, -10);
            ctx.lineTo(TANK.size, -10);
            ctx.lineTo(TANK.size * 0.7, 10);
            ctx.lineTo(-TANK.size * 0.7, 10);
            ctx.closePath();
            ctx.fill();

            // Tracks
            ctx.fillStyle = '#333';
            ctx.shadowBlur = 0;
            ctx.fillRect(-TANK.size, -8, TANK.size * 2, 4);
            ctx.fillRect(-TANK.size, 4, TANK.size * 2, 6);

            // Turret
            ctx.fillStyle = '#228B22';
            ctx.shadowColor = '#00ff88';
            ctx.shadowBlur = 10;
            ctx.beginPath();
            ctx.arc(0, 0, 12, 0, Math.PI * 2);
            ctx.fill();

            // Barrel
            ctx.fillStyle = '#111';
            ctx.shadowBlur = 0;
            ctx.fillRect(10, -3, 20, 6);

            ctx.restore();
        }

        function drawMissiles() {
            MISSILES.forEach(m => {
                ctx.save();
                ctx.translate(m.x, m.y);
                ctx.rotate(m.angle);
                ctx.fillStyle = '#ffaa00';
                ctx.shadowColor = '#ffff00';
                ctx.shadowBlur = 10;
                ctx.fillRect(-2, -2, 12, 4);
                ctx.restore();
            });
        }

        function drawParticles() {
            PARTICLES.forEach(p => {
                ctx.save();
                ctx.translate(p.x, p.y);
                ctx.rotate(p.rot);
                ctx.globalAlpha = p.life / p.maxLife;
                ctx.font = `${24 * p.size}px Arial`;
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.shadowColor = '#ffffff';
                ctx.shadowBlur = 15;
                ctx.fillText(p.emoji, 0, 0);
                ctx.restore();
            });
            ctx.globalAlpha = 1;
        }

        function drawUI() {
            missilesEl.textContent = MISSILES.length;
            if (paused) {
                ctx.fillStyle = 'rgba(0,0,0,0.7)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = '#fff';
                ctx.font = 'bold 64px Arial';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText('PAUSED', canvas.width / 2, canvas.height / 2);
                ctx.font = '32px Arial';
                ctx.fillText('ESC to Resume', canvas.width / 2, canvas.height / 2 + 60);
            }
        }

        function gameLoop() {
            ctx.fillStyle = 'rgba(0,4,40,0.3)';
            ctx.fillRect(0, 0, canvas.width, canvas.height); // Trail effect

            updateTank();
            updateMissiles();
            updateParticles();

            drawTank();
            drawMissiles();
            drawParticles();
            drawUI();

            requestAnimationFrame(gameLoop);
        }

        gameLoop();
    </script>
</body>
</html>